

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python implementation &mdash; EmbASP 7.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="C# implementation" href="csharp-implementation.html" />
    <link rel="prev" title="Java implementation" href="java-implementation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> EmbASP
          

          
          </a>

          
            
            
              <div class="version">
                7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="java-implementation.html">Java implementation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Python implementation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-module-implementation">Base module implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#platforms-module-implementation">Platforms module implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#languages-module-implementation">Languages module implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#specialization-module-implementation">Specialization module implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#class-diagram">Class Diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="csharp-implementation.html">C# implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_doc.html">Technical documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/shortest-path-asp-java.html">Shortest-path ASP Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/shortest-path-asp-python.html">Shortest-path ASP Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/shortest-path-asp-csharp.html">Shortest-path ASP C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/blocks-world-pddl-java.html">Blocks-world PDDL Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/blocks-world-pddl-python.html">Blocks-world PDDL Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/blocks-world-pddl-csharp.html">Blocks-world PDDL C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/transitive-closure-datalog-java.html">Transitive Closure Datalog Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/transitive-closure-datalog-python.html">Transitive Closure Datalog Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/transitive-closure-datalog-csharp.html">Transitive Closure Datalog C#</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/sudoku-android.html">Sudoku Android</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EmbASP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Python implementation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/documentation/python-implementation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python-implementation">
<h1>Python implementation<a class="headerlink" href="#python-implementation" title="Permalink to this headline">¶</a></h1>
<p>The following figure provides some details about classes and interfaces of the implementation.</p>
<style>
* {box-sizing: border-box;}

.img-magnifier-container {
  position:relative;
}

.img-magnifier-glass {
  position: absolute;
  border: 3px solid #000;
  border-radius: 50%;
  cursor: none;
  /*Set the size of the magnifier glass:*/
  width: 220px;
  height: 220px;
}
</style>

<script>
function magnify(imgID, zoom) {
  var img, glass, w, h, bw;
  img = document.getElementById(imgID);
  /*create magnifier glass:*/
  glass = document.createElement("DIV");
  glass.setAttribute("class", "img-magnifier-glass");
  /*insert magnifier glass:*/
  img.parentElement.insertBefore(glass, img);
  /*set background properties for the magnifier glass:*/
  glass.style.backgroundImage = "url('" + img.src + "')";
  glass.style.backgroundRepeat = "no-repeat";
  glass.style.backgroundSize = (img.width * zoom) + "px " + (img.height * zoom) + "px";
  bw = 3;
  w = glass.offsetWidth / 2;
  h = glass.offsetHeight / 2;
  /*execute a function when someone moves the magnifier glass over the image:*/
  glass.addEventListener("mousemove", moveMagnifier);
  img.addEventListener("mousemove", moveMagnifier);
  /*and also for touch screens:*/
  glass.addEventListener("touchmove", moveMagnifier);
  img.addEventListener("touchmove", moveMagnifier);
  function moveMagnifier(e) {
    var pos, x, y;
    /*prevent any other actions that may occur when moving over the image*/
    e.preventDefault();
    /*get the cursor's x and y positions:*/
    pos = getCursorPos(e);
    x = pos.x;
    y = pos.y;
    /*prevent the magnifier glass from being positioned outside the image:*/
    if (x > img.width - (w / zoom)) {x = img.width - (w / zoom);}
    if (x < w / zoom) {x = w / zoom;}
    if (y > img.height - (h / zoom)) {y = img.height - (h / zoom);}
    if (y < h / zoom) {y = h / zoom;}
    /*set the position of the magnifier glass:*/
    glass.style.left = (x - w) + "px";
    glass.style.top = (y - h) + "px";
    /*display what the magnifier glass "sees":*/
    glass.style.backgroundPosition = "-" + ((x * zoom) - w + bw) + "px -" + ((y * zoom) - h + bw) + "px";
  }
  function getCursorPos(e) {
    var a, x = 0, y = 0;
    e = e || window.event;
    /*get the x and y positions of the image:*/
    a = img.getBoundingClientRect();
    /*calculate the cursor's x and y coordinates, relative to the image:*/
    x = e.pageX - a.left;
    y = e.pageY - a.top;
    /*consider any page scrolling:*/
    x = x - window.pageXOffset;
    y = y - window.pageYOffset;
    return {x : x, y : y};
  }
}
</script>

<div class="img-magnifier-container">
  <img id="myimage" src="../_static/class_diagram_python_v7.svg" width="1000" height="500">
</div>

<script>
/* Initiate Magnify Function
with the id of the image, and the strength of the magnifier glass:*/
magnify("myimage", 2);
</script><div class="section" id="base-module-implementation">
<h2>Base module implementation<a class="headerlink" href="#base-module-implementation" title="Permalink to this headline">¶</a></h2>
<p>Each component in the <span class="guilabel">Base</span> module has been implemented by means of generic class or interface that will specialize in the following packages.</p>
<p>In particular, the <a class="reference external" href="../_static/doxygen/python/classbase_1_1handler_1_1Handler.html"><code class="docutils literal notranslate"><span class="pre">Handler</span></code></a> class collects <a class="reference external" href="../_static/doxygen/python/classbase_1_1input__program_1_1InputProgram.html"><code class="docutils literal notranslate"><span class="pre">InputProgram</span></code></a> and <a class="reference external" href="../_static/doxygen/python/classbase_1_1option__descriptor_1_1OptionDescriptor.html"><code class="docutils literal notranslate"><span class="pre">OptionDescriptor</span></code></a> objects communicated by the user.</p>
<p>For what the asynchronous mode is concerned, the class <a class="reference external" href="../_static/doxygen/python/classbase_1_1service_1_1Service.html"><code class="docutils literal notranslate"><span class="pre">Service</span></code></a> depends from the interface <a class="reference external" href="../_static/doxygen/python/classbase_1_1callback_1_1Callback.html"><code class="docutils literal notranslate"><span class="pre">CallBack</span></code></a>, since once the reasoning service has terminated, the result of the computation is returned back via a class <a class="reference external" href="../_static/doxygen/python/classbase_1_1callback_1_1Callback.html"><code class="docutils literal notranslate"><span class="pre">CallBack</span></code></a>.</p>
</div>
<div class="section" id="platforms-module-implementation">
<h2>Platforms module implementation<a class="headerlink" href="#platforms-module-implementation" title="Permalink to this headline">¶</a></h2>
<p>In order to support a new platform, the <a class="reference external" href="../_static/doxygen/python/classbase_1_1handler_1_1Handler.html"><code class="docutils literal notranslate"><span class="pre">Handler</span></code></a> and <a class="reference external" href="../_static/doxygen/python/classbase_1_1service_1_1Service.html"><code class="docutils literal notranslate"><span class="pre">Service</span></code></a> components must be adapted.</p>
<p>For the desktop platform we developed a <a class="reference external" href="../_static/doxygen/python/classplatforms_1_1desktop_1_1desktop__handler_1_1DesktopHandler.html"><code class="docutils literal notranslate"><span class="pre">DesktopHandler</span></code></a> and a <a class="reference external" href="../_static/doxygen/python/classplatforms_1_1desktop_1_1desktop__service_1_1DesktopService.html"><code class="docutils literal notranslate"><span class="pre">DesktopService</span></code></a>, which generalizes the usage of a solver on the desktop platform, allowing both synchronous and asynchronous execution modes.</p>
</div>
<div class="section" id="languages-module-implementation">
<h2>Languages module implementation<a class="headerlink" href="#languages-module-implementation" title="Permalink to this headline">¶</a></h2>
<p>This module includes specific classes for the management of input and output to ASP, Datalog and PDDL solvers.</p>
<p>The <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1mapper_1_1Mapper.html"><code class="docutils literal notranslate"><span class="pre">Mapper</span></code></a> component of the <span class="guilabel">Languages</span> module is implemented via a <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1mapper_1_1Mapper.html"><code class="docutils literal notranslate"><span class="pre">Mapper</span></code></a> class, that allows to translate input and output into Python objects.
Such translations are guided by <a class="reference external" href="https://www.antlr.org/">ANTLR4</a> library and <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1predicate_1_1Predicate.html"><code class="docutils literal notranslate"><span class="pre">Predicate</span></code></a> abstract class, also present in the module.</p>
<p>To make possible translate facts into strings and vice versa, the classes that want to represent a predicate, must extend the abstract class <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1predicate_1_1Predicate.html"><code class="docutils literal notranslate"><span class="pre">Predicate</span></code></a>, and must be implemented by including the following code:</p>
<ul class="simple">
<li><p><em>predicateName=”string_name”</em> : must be entered as a class field and must contain the predicate name (in the ASP/Datalog case) or the action name (in the PDDL case) to map;</p></li>
<li><p><em>[(“class_field_name_1”, int), (“class_field_name_2”), …]</em> : Is a list that must be passed to super in the constructor, and must contain so many tuples how many are the class field, containing the field name, sorted by the position of the terms they represent, and optionally the keyword int if the field represents an integer.</p></li>
</ul>
<p>Thanks to the structure of the <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1predicate_1_1Predicate.html"><code class="docutils literal notranslate"><span class="pre">Predicate</span></code></a> class, this information is passed to the <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1mapper_1_1Mapper.html"><code class="docutils literal notranslate"><span class="pre">Mapper</span></code></a> class, to correctly perform the translation mechanism.</p>
<p>If the classes intended for the translation are not constructed correctly in this way, an exception is raised.</p>
<p>In addition to the <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1mapper_1_1Mapper.html"><code class="docutils literal notranslate"><span class="pre">Mapper</span></code></a>, this module features three sub-modules which are more strictly related to ASP, Datalog and PDDL.</p>
</div>
<div class="section" id="specialization-module-implementation">
<h2>Specialization module implementation<a class="headerlink" href="#specialization-module-implementation" title="Permalink to this headline">¶</a></h2>
<p>The classes <a class="reference external" href="../_static/doxygen/python/classspecializations_1_1dlv_1_1dlv__answer__sets_1_1DLVAnswerSets.html"><code class="docutils literal notranslate"><span class="pre">DLVAnswerSets</span></code></a>, <a class="reference external" href="../_static/doxygen/python/classspecializations_1_1dlv2_1_1dlv2__answer__sets_1_1DLV2AnswerSets.html"><code class="docutils literal notranslate"><span class="pre">DLV2AnswerSets</span></code></a>, <a class="reference external" href="../_static/doxygen/python/classspecializations_1_1clingo_1_1clingo__answer__sets_1_1ClingoAnswerSets.html"><code class="docutils literal notranslate"><span class="pre">ClingoAnswerSets</span></code></a>, <a class="reference external" href="../_static/doxygen/python/classspecializations_1_1dlvhex_1_1dlvhex__answer__sets_1_1DLVHEXAnswerSets.html"><code class="docutils literal notranslate"><span class="pre">DLVHEXAnswerSets</span></code></a> implement specific extensions of the <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1asp_1_1answer__sets_1_1AnswerSets.html"><code class="docutils literal notranslate"><span class="pre">AnswerSets</span></code></a> class, the <a class="reference external" href="../_static/doxygen/python/classspecializations_1_1solver__planning__domains_1_1spd__plan_1_1SPDPlan.html"><code class="docutils literal notranslate"><span class="pre">SPDPlan</span></code></a> class extends <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1pddl_1_1plan_1_1Plan.html"><code class="docutils literal notranslate"><span class="pre">Plan</span></code></a>, while <a class="reference external" href="../_static/doxygen/python/classspecializations_1_1idlv_1_1idlv__minimal__models_1_1IDLVMinimalModels.html"><code class="docutils literal notranslate"><span class="pre">IDLVMinimalModels</span></code></a> extends <a class="reference external" href="../_static/doxygen/python/classlanguages_1_1asp_1_1minimal__models_1_1MinimalModels.html"><code class="docutils literal notranslate"><span class="pre">MinimalModels</span></code></a> . These classes are in charge of manipulating the output of the respective solvers (e.g. IDLV).</p>
<p>Moreover, this module can contain classes extending <a class="reference external" href="../_static/doxygen/python/classbase_1_1option__descriptor_1_1OptionDescriptor.html"><code class="docutils literal notranslate"><span class="pre">OptionDescriptor</span></code></a> to implement specific options of the solver at hand.</p>
</div>
<div class="section" id="class-diagram">
<h2>Class Diagram<a class="headerlink" href="#class-diagram" title="Permalink to this headline">¶</a></h2>
<p>A complete UML Class Diagram is available <a class="reference external" href="../_static/complete_diagram_python_v7.svg">here</a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>For further information, contact <a class="reference external" href="mailto:embasp&#37;&#52;&#48;mat&#46;unical&#46;it">embasp<span>&#64;</span>mat<span>&#46;</span>unical<span>&#46;</span>it</a> or visit our <a class="reference external" href="https://www.mat.unical.it/calimeri/projects/embasp/">website</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="csharp-implementation.html" class="btn btn-neutral float-right" title="C# implementation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="java-implementation.html" class="btn btn-neutral float-left" title="Java implementation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, DeMaCS-Unical

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>